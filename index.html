<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 25.8.4.2 (Linux)"/>
	<meta name="created" content="00:00:00"/>
	<meta name="changed" content="00:00:00"/>
	<style type="text/css">
		@page { size: 8.27in 11.69in; margin: 0.79in }
		p { margin-bottom: 0.1in; line-height: 115%; background: transparent }
		pre { font-size: 10pt; font-family: "Liberation Mono", monospace; background: transparent }
	</style>
</head>
<body lang="en-US" link="#000080" vlink="#800000" dir="ltr"><pre>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;&gt;
    &lt;title&gt;AI Health Symptoms Guide&lt;/title&gt;
    &lt;!-- Tailwind CSS for styling --&gt;
    &lt;script src=&quot;https://cdn.tailwindcss.com&quot;&gt;&lt;/script&gt;
    &lt;!-- Multilingual fonts for Indian languages --&gt;
    &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&amp;family=Noto+Sans+Devanagari&amp;family=Noto+Sans+Tamil&amp;family=Noto+Sans+Telugu&amp;family=Noto+Sans+Bengali&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;
    &lt;style&gt;
        :root {
            --primary: #059669;
            --bg-light: #f8fafc;
        }

        body { 
            font-family: 'Noto Sans', 'Noto Sans Devanagari', 'Noto Sans Tamil', 'Noto Sans Telugu', 'Noto Sans Bengali', sans-serif;
            background-color: var(--bg-light);
            color: #1e293b;
            overscroll-behavior-y: contain;
        }

        /* Layout heights */
        .chat-container {
            height: calc(100vh - 170px);
            display: flex;
            flex-direction: column;
        }

        /* Message bubble styles */
        .ai-message {
            background: white;
            border-left: 5px solid var(--primary);
            border-radius: 0 24px 24px 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        .user-message {
            background: #1e293b;
            color: white;
            border-radius: 24px 24px 0 24px;
            align-self: flex-end;
        }

        /* Loading animation dots */
        .dot { width: 6px; height: 6px; background: #94a3b8; border-radius: 50%; display: inline-block; animation: wave 1.3s infinite; }
        .dot:nth-child(2) { animation-delay: -1.1s; }
        .dot:nth-child(3) { animation-delay: -0.9s; }
        @keyframes wave { 0%, 60%, 100% { transform: translateY(0); } 30% { transform: translateY(-6px); } }

        /* Mobile optimization: hide scrollbar */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Smooth message entry */
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body class=&quot;flex flex-col h-screen overflow-hidden&quot;&gt;

    &lt;!-- Fixed Medical Disclaimer --&gt;
    &lt;div class=&quot;bg-slate-900 text-white px-4 py-2 text-center text-[10px] md:text-xs font-bold uppercase tracking-widest z-50&quot;&gt;
        Informational Only ‚Ä¢ Not a Medical Diagnosis ‚Ä¢ Not for Emergencies
    &lt;/div&gt;

    &lt;!-- Application Header --&gt;
    &lt;header class=&quot;bg-white px-5 py-4 flex items-center justify-between border-b border-slate-200 shadow-sm z-40&quot;&gt;
        &lt;div class=&quot;flex items-center gap-3&quot;&gt;
            &lt;span class=&quot;text-3xl&quot; role=&quot;img&quot; aria-label=&quot;health-icon&quot;&gt;üå±&lt;/span&gt;
            &lt;div&gt;
                &lt;h1 class=&quot;text-lg font-bold text-slate-800 leading-none&quot;&gt;Health Guide&lt;/h1&gt;
                &lt;p class=&quot;text-[10px] text-emerald-600 font-bold uppercase mt-1 tracking-tight&quot;&gt;Multi-language AI Support&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;button onclick=&quot;window.location.reload()&quot; class=&quot;bg-slate-100 hover:bg-slate-200 text-slate-500 rounded-full p-2 transition-colors&quot;&gt;
            &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot;h-5 w-5&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;
                &lt;path stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; d=&quot;M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15&quot; /&gt;
            &lt;/svg&gt;
        &lt;/button&gt;
    &lt;/header&gt;

    &lt;!-- Chat Display Area --&gt;
    &lt;main id=&quot;chatBox&quot; class=&quot;chat-container flex-1 overflow-y-auto p-4 space-y-6 no-scrollbar&quot;&gt;
        &lt;!-- Initial Welcome Message --&gt;
        &lt;div class=&quot;flex flex-col items-start fade-in&quot;&gt;
            &lt;div class=&quot;ai-message p-5 text-[15px] max-w-[95%] leading-relaxed&quot;&gt;
                &lt;p class=&quot;font-bold text-emerald-800 mb-2&quot;&gt;Hello / Namaste / Vanakkam.&lt;/p&gt;
                &lt;p&gt;I am your health information assistant. Describe how you are feeling in any language, and I will provide general information for you to discuss with a doctor.&lt;/p&gt;
                &lt;div class=&quot;mt-4 p-3 bg-slate-50 rounded-xl border border-slate-100&quot;&gt;
                    &lt;p class=&quot;text-xs font-bold text-slate-400 uppercase mb-1&quot;&gt;Try saying:&lt;/p&gt;
                    &lt;p class=&quot;text-sm italic text-slate-600&quot;&gt;&quot;I have a stomach ache since morning&quot;&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/main&gt;

    &lt;!-- Emergency Modal (Immediate Action) --&gt;
    &lt;div id=&quot;emergencyModal&quot; class=&quot;hidden fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[100] flex items-center justify-center p-6&quot;&gt;
        &lt;div class=&quot;bg-white rounded-[40px] p-8 w-full max-w-sm text-center shadow-2xl border-t-8 border-red-600&quot;&gt;
            &lt;div class=&quot;text-6xl mb-4&quot;&gt;üö®&lt;/div&gt;
            &lt;h2 class=&quot;text-2xl font-black text-red-600 mb-2 uppercase tracking-tight&quot;&gt;Urgent Warning&lt;/h2&gt;
            &lt;p class=&quot;text-lg font-bold text-slate-700 mb-8 leading-snug&quot;&gt;The symptoms you mentioned are serious. Please stop typing and seek medical help now.&lt;/p&gt;
            &lt;div class=&quot;flex flex-col gap-4&quot;&gt;
                &lt;a href=&quot;tel:108&quot; class=&quot;bg-red-600 text-white text-2xl font-black py-5 rounded-3xl shadow-xl active:scale-95 transition-transform flex items-center justify-center gap-3&quot;&gt;
                    &lt;span&gt;Call 108&lt;/span&gt;
                &lt;/a&gt;
                &lt;a href=&quot;tel:102&quot; class=&quot;bg-slate-800 text-white text-xl font-bold py-4 rounded-3xl flex items-center justify-center&quot;&gt;
                    &lt;span&gt;Call 102&lt;/span&gt;
                &lt;/a&gt;
            &lt;/div&gt;
            &lt;button onclick=&quot;document.getElementById('emergencyModal').classList.add('hidden')&quot; class=&quot;mt-8 text-slate-400 text-sm font-medium underline&quot;&gt;Back to chat&lt;/button&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Input Section --&gt;
    &lt;div class=&quot;bg-white border-t border-slate-200 p-4 pb-10 md:pb-6 shadow-[0_-10px_15px_-3px_rgba(0,0,0,0.05)]&quot;&gt;
        &lt;form id=&quot;healthForm&quot; class=&quot;flex gap-3 max-w-3xl mx-auto items-center&quot;&gt;
            &lt;input 
                id=&quot;userInput&quot; 
                type=&quot;text&quot; 
                placeholder=&quot;How can I help you today?&quot; 
                class=&quot;flex-1 bg-slate-100 border-2 border-transparent rounded-2xl px-6 py-4 text-base focus:bg-white focus:border-emerald-500 outline-none transition-all&quot;
                autocomplete=&quot;off&quot;
                required
            &gt;
            &lt;button 
                type=&quot;submit&quot; 
                id=&quot;sendBtn&quot;
                class=&quot;bg-emerald-600 text-white w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg active:scale-90 transition-transform disabled:opacity-50&quot;
            &gt;
                &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot;h-8 w-8&quot; viewBox=&quot;0 0 20 20&quot; fill=&quot;currentColor&quot;&gt;
                    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z&quot; clip-rule=&quot;evenodd&quot; /&gt;
                &lt;/svg&gt;
            &lt;/button&gt;
        &lt;/form&gt;
    &lt;/div&gt;

    &lt;script&gt;
        const apiKey = &quot;&quot;; // Runtime provides this
        const chatBox = document.getElementById('chatBox');
        const healthForm = document.getElementById('healthForm');
        const userInput = document.getElementById('userInput');
        const sendBtn = document.getElementById('sendBtn');

        // Structured simple system instructions
        const systemPrompt = `You are a calm AI Health Symptoms Guide for India. 
        Goal: Provide very simple, safe health information.
        
        STRICT RULES:
        1. Language: Automatically detect and reply in the same language as the user.
        2. Diagnosis: NEVER diagnose. Say &quot;This could be related to...&quot; instead of &quot;You have X&quot;.
        3. Medicine: NEVER suggest specific medicines, brands, or dosages.
        4. Tone: Helpful, simple (8th-grade level), and supportive.

        MANDATORY STRUCTURE (Use these Exact Emoji Headers):
        üì¢ **Safety Check**
        &quot;I am an AI, not a doctor. Use this for information only. Please see a real doctor for medical decisions.&quot;

        üìù **Symptoms Summary**
        [Simple summary of what they said]

        ‚ùì **Possible Reasons**
        [2-3 general reasons in simple words]

        üè† **Home Care**
        [Safe, non-medical advice: rest, hydration, light meals]

        ü©∫ **Professional Care**
        [Signs they should see a doctor]

        üö® **Emergency Signs**
        [Red flags to call 108/102 immediately]`;

        // Local emergency check for instant reaction
        const emergencyTriggers = [
            'chest pain', 'breathing', 'heavy bleeding', 'unconscious', 'suicide', 'kill myself',
            '<span lang="hi-IN">‡§¶‡§∞‡•ç‡§¶</span>', '<span lang="hi-IN">‡§∏‡§æ‡§Ç‡§∏</span>', '<span lang="hi-IN">‡§ñ‡•Ç‡§®</span>', '<span lang="hi-IN">‡Æ®‡ØÜ‡Æû‡Øç‡Æö‡ØÅ ‡Æµ‡Æ≤‡Æø</span>', '<span lang="hi-IN">‡Æö‡ØÅ‡Æµ‡Ææ‡Æö‡ÆÆ‡Øç</span>', '<span lang="hi-IN">‡∞∞‡∞ï‡±ç‡∞§‡∞∏‡±ç‡∞∞‡∞æ‡∞µ‡∞Ç</span>', '<span lang="hi-IN">‡∞ó‡±Å‡∞Ç‡∞°‡±Ü ‡∞®‡±ä‡∞™‡±ç‡∞™‡∞ø</span>', '<span lang="hi-IN">‡§∂‡•ç‡§µ‡§æ‡§∏</span>'
        ];

        function checkEmergency(text) {
            const lower = text.toLowerCase();
            return emergencyTriggers.some(word =&gt; lower.includes(word));
        }

        healthForm.addEventListener('submit', async (e) =&gt; {
            e.preventDefault();
            const text = userInput.value.trim();
            if (!text) return;

            // Trigger emergency modal immediately if keywords detected
            if (checkEmergency(text)) {
                document.getElementById('emergencyModal').classList.remove('hidden');
            }

            appendMessage(text, 'user');
            userInput.value = '';
            sendBtn.disabled = true;

            const loadingId = appendLoading();
            await fetchHealthInfo(text, loadingId);
        });

        function appendMessage(text, role) {
            const wrap = document.createElement('div');
            wrap.className = `flex flex-col gap-1 fade-in ${role === 'user' ? 'items-end' : 'items-start'}`;
            
            const msg = document.createElement('div');
            msg.className = `${role === 'user' ? 'user-message' : 'ai-message'} p-5 text-[15px] max-w-[90%] leading-relaxed shadow-sm`;
            
            // Format headers for readability
            const formatted = text
                .replace(/\*\*Safety Check\*\*/g, '&lt;span class=&quot;text-blue-600 font-bold block border-b border-blue-50 pb-1&quot;&gt;üì¢ Safety Check&lt;/span&gt;')
                .replace(/\*\*Symptoms Summary\*\*/g, '&lt;span class=&quot;text-slate-600 font-bold block mt-4 border-b border-slate-50 pb-1&quot;&gt;üìù What You Shared&lt;/span&gt;')
                .replace(/\*\*Possible Reasons\*\*/g, '&lt;span class=&quot;text-slate-600 font-bold block mt-4 border-b border-slate-50 pb-1&quot;&gt;‚ùì Possible Reasons&lt;/span&gt;')
                .replace(/\*\*Home Care\*\*/g, '&lt;span class=&quot;text-emerald-700 font-bold block mt-4 border-b border-emerald-50 pb-1&quot;&gt;üè† Home Care&lt;/span&gt;')
                .replace(/\*\*Professional Care\*\*/g, '&lt;span class=&quot;text-amber-700 font-bold block mt-4 border-b border-amber-50 pb-1&quot;&gt;ü©∫ Professional Care&lt;/span&gt;')
                .replace(/\*\*Emergency Signs\*\*/g, '&lt;span class=&quot;text-red-600 font-bold block mt-4 border-b border-red-50 pb-1&quot;&gt;üö® Emergency Signs&lt;/span&gt;')
                .replace(/\n/g, '&lt;br&gt;');

            msg.innerHTML = formatted;
            wrap.appendChild(msg);
            chatBox.appendChild(wrap);
            chatBox.scrollTo({ top: chatBox.scrollHeight, behavior: 'smooth' });
        }

        function appendLoading() {
            const id = 'loading-' + Date.now();
            const wrap = document.createElement('div');
            wrap.id = id;
            wrap.className = 'flex flex-col items-start fade-in';
            wrap.innerHTML = `
                &lt;div class=&quot;ai-message p-5 flex items-center gap-4&quot;&gt;
                    &lt;div class=&quot;flex gap-1&quot;&gt;&lt;div class=&quot;dot&quot;&gt;&lt;/div&gt;&lt;div class=&quot;dot&quot;&gt;&lt;/div&gt;&lt;div class=&quot;dot&quot;&gt;&lt;/div&gt;&lt;/div&gt;
                    &lt;span class=&quot;text-[11px] text-slate-400 font-bold uppercase tracking-widest&quot;&gt;Checking Health Records...&lt;/span&gt;
                &lt;/div&gt;`;
            chatBox.appendChild(wrap);
            chatBox.scrollTo({ top: chatBox.scrollHeight, behavior: 'smooth' });
            return id;
        }

        async function fetchHealthInfo(query, loadingId) {
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: query }] }],
                        systemInstruction: { parts: [{ text: systemPrompt }] }
                    })
                });

                if (!response.ok) throw new Error();
                const data = await response.json();
                const aiText = data.candidates?.[0]?.content?.parts?.[0]?.text || &quot;I'm sorry, I'm having trouble retrieving information right now.&quot;;
                
                document.getElementById(loadingId).remove();
                appendMessage(aiText, 'ai');
            } catch (err) {
                document.getElementById(loadingId).remove();
                appendMessage(&quot;### Connection Error\nI am unable to connect. If your concern is urgent, please call a doctor or an ambulance.&quot;, 'ai');
            } finally {
                sendBtn.disabled = false;
            }
        }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</body>
</html>